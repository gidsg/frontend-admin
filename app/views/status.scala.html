@(config: String, env: String)

@main("Status", env, isAuthed = true) {

    <script src="@routes.Assets.at("javascripts/vendor/zepto.min.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendor/d3.v3.min.js")"></script>
    <script src="@routes.Assets.at("javascripts/vendor/rickshaw.min.js")"></script>

    <div class="alert alert-info">
        <strong>Note!</strong> This application will only work if you are on the guardian internal network and signed in to <a
            href="dashboard.ophan.co.uk">Ophan</a> and <a href="http://riffraff.gudev.gnl">RiffRaff</a>.
    </div>

    <div class="row-fluid status">
      <div class="span12">
        <div class="row-fluid">
          <div class="span6">
            <span id="last-refresh"></span>
          </div>
          <div class="span6">
              <a href="?from=-1hours">1 hours</a> | 
              <a href="?from=-3hours">3 hours</a> |
              <a href="?from=-8hours">8 hours</a> |
              <a href="?from=-24hours">1 day</a>
          </div>
        </div>
      </div>
      <div class="span12 p35" id="buildStatus">
        <h2>Applications</h2>
      </div>
      <div class="span12 p41" id="buildStatus">
        <h2>Integration tests</h2>
      </div>
      <div class="span12 flush">
        <div class="row-fluid">
          <div class="span6">
            <div class="row-fluid">
              <div class="span10" id="col2">
  
                <h2>Combined server-side errors w/ moving average</h2>
                <div id="server-errors"></div>

                <h2>Javascript errors w/ moving average</h2>
                <div id="client-errors"></div>

                <h2>Client-side performance</h2>
                <div id="ophan-perf"></div>

                <h2>Page views - <span class="badge badge-info" id="ophan-views-val"></span> requests p/sec</h2> 
                <div id="ophan-views"></div>

            </div>
              <div class="span2"> </div>
            </div>
          </div>
          <div class="span6" id="col1">
  
            <h2>Request duration - all applications</h2>
            <div id="request-duration"></div>

        </div>
        </div>
      </div>
    </div>

    <script src="@routes.Assets.at("javascripts/status.js")"></script>

}
